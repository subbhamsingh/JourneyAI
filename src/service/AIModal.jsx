import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location:Las Vegas for 3 days for couple with a cheap budget ,Give me Hotel option list with HotelName , HotelAdress ,price,hotel manage url,geocordianates,rating,descriptions and suggest iternary with PlaceName ,PlaceDetails,Place Image url,GeoCordinates ,ticket pricing ,rating,Time Travel of each of the locationfor 3 days with each day plan with best time to visit in JSON Format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a detailed travel plan for a budget-conscious couple visiting Las Vegas for 3 days, formatted in JSON as requested.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n    \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"60-120 USD per night\",\n         \"hotelManageUrl\": \"https://www.circuscircus.com/\",\n      \"geocoordinates\": {\n        \"latitude\": 36.1365,\n        \"longitude\": -115.1659\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with a circus theme, offering affordable rooms and family-friendly entertainment. It is located on the northern end of the Strip and has a Adventuredome theme park.\"\n\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"55-110 USD per night\",\n      \"hotelManageUrl\": \"https://www.excalibur.com/\",\n     \"geocoordinates\": {\n        \"latitude\": 36.0989,\n        \"longitude\": -115.1734\n      },\n      \"rating\": 3.8,\n      \"description\": \"A medieval-themed hotel with budget-friendly rooms and family-friendly activities. It's located at the southern end of the Strip.\"\n\n    },\n {\n      \"hotelName\": \"The LINQ Hotel + Experience\",\n      \"hotelAddress\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"70-130 USD per night\",\n       \"hotelManageUrl\": \"https://www.caesars.com/linq\",\n      \"geocoordinates\": {\n        \"latitude\": 36.1173,\n        \"longitude\": -115.1705\n      },\n      \"rating\": 4.0,\n      \"description\": \"A modern hotel with a central location on the Strip, offering a variety of dining and entertainment options.\"\n    },\n    {\n      \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"45-90 USD per night\",\n       \"hotelManageUrl\": \"https://www.oyolasvegas.com/\",\n       \"geocoordinates\": {\n        \"latitude\": 36.0991,\n        \"longitude\": -115.1666\n      },\n      \"rating\": 3.3,\n        \"description\":\" Formerly known as Hooters, offers a basic but affordable hotel option near the south end of the Strip.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n       \"theme\":\"Explore the South Strip\",\n      \"bestTimeToVisit\": \"Morning and Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign, great for photo opportunities. Free to visit.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Welcome_to_Fabulous_Las_Vegas_Sign.JPG/1200px-Welcome_to_Fabulous_Las_Vegas_Sign.JPG\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0826,\n            \"longitude\": -115.1727\n          },\n          \"ticketPricing\": \"Free\",\n           \"rating\": 4.5,\n          \"timeTravel\": \"15-20 minutes from the Strip by bus/car\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"Beautiful indoor botanical display that changes seasonally. Free to visit.\",\n           \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-and-botanical-gardens/gallery/bellagio-conservatory-main-image-600x450.jpg.imgo.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1117,\n            \"longitude\": -115.1764\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n         \"timeTravel\": \"10-15 minutes walk from other strip hotels\"\n        },\n          {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Spectacular water show set to music, visible from the Strip. Free to watch.\",\n          \"placeImageUrl\": \"https://assets.traveltriangle.com/blog/wp-content/uploads/2017/05/fountains-of-bellagio-1.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1118,\n            \"longitude\": -115.1759\n          },\n           \"ticketPricing\": \"Free\",\n           \"rating\": 4.7,\n            \"timeTravel\": \"Adjacent to the Conservatory\"\n        },\n\n          {\n              \"placeName\": \"Explore the South Strip Hotels\",\n              \"placeDetails\":\"Take in the themed hotels of the south strip such as Luxor, Excalibur, and New York New York\",\n               \"placeImageUrl\":\"https://www.lasvegashowto.com/images/las-vegas-strip-hotels.jpg\",\n                \"geoCoordinates\":{\n                \"latitude\":36.1030,\n                \"longitude\":-115.1721\n                },\n                 \"ticketPricing\":\"Free\",\n                  \"rating\": 4.3,\n                  \"timeTravel\":\"Walking distance between hotels\"\n          }\n      ]\n    },\n    \"day2\": {\n      \"theme\":\"Downtown and Fremont Street Experience\",\n       \"bestTimeToVisit\":\"Late Afternoon/Evening\",\n      \"places\": [\n\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Pedestrian mall with a video canopy and free live music, great for evening entertainment.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Fremont_Street_Experience_12_05_2022.jpg/1200px-Fremont_Street_Experience_12_05_2022.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1706,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.4,\n            \"timeTravel\": \"20-30 minutes from the Strip by bus/car\"\n\n        },\n         {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shopping, dining, and entertainment area built from shipping containers.\",\n           \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2017/10/container-park.jpg\",\n            \"geoCoordinates\": {\n            \"latitude\": 36.1695,\n            \"longitude\": -115.1402\n          },\n          \"ticketPricing\": \"Free to enter, prices vary for activities and dining\",\n         \"rating\": 4.2,\n          \"timeTravel\":\"Short walk from Fremont St Experience\"\n\n        },\n             {\n          \"placeName\": \"Explore Downtown Murals\",\n          \"placeDetails\": \"Discover many vibrant street murals and artwork in the downtown area.\",\n          \"placeImageUrl\": \"https://i.pinimg.com/originals/41/49/8a/41498a3f0aa8ff23398128a8f2602880.jpg\",\n           \"geoCoordinates\": {\n              \"latitude\":36.1707,\n              \"longitude\":-115.1466\n            },\n          \"ticketPricing\": \"Free\",\n           \"rating\": 4.0,\n            \"timeTravel\": \"Walking distance within Downtown\"\n        }\n      ]\n    },\n    \"day3\": {\n       \"theme\":\"Relax and Enjoy the Strip\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"places\": [\n           {\n          \"placeName\":\"The LINQ Promenade\",\n          \"placeDetails\":\"Outdoor shopping and dining area with the High Roller observation wheel\",\n           \"placeImageUrl\":\"https://media.tacdn.com/media/attractions-splice-spp-768x400/06/76/d7/d7.jpg\",\n            \"geoCoordinates\":{\n                \"latitude\":36.1178,\n                \"longitude\":-115.1699\n            },\n           \"ticketPricing\":\"Free to walk around, but High Roller tickets are extra\",\n            \"rating\":4.3,\n              \"timeTravel\": \"Central strip location\"\n        },\n        {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"Free nightly volcano show in front of the Mirage Hotel.\",\n           \"placeImageUrl\": \"https://www.tripsavvy.com/thmb/y5jT_107T7U_7lYQ37_WJqW_Yd0=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/mirage-volcano-las-vegas-5b9382e646e0fb00502d64d8.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1213,\n            \"longitude\": -115.1734\n          },\n          \"ticketPricing\": \"Free\",\n           \"rating\":4.6,\n          \"timeTravel\": \"Adjacent to the Mirage hotel, near the Linq Promenade\"\n\n        },\n             {\n          \"placeName\": \"Explore the Venetian and Palazzo\",\n          \"placeDetails\":\"Wander through the themed walkways and canals of these luxury hotels\",\n           \"placeImageUrl\":\"https://www.reviewjournal.com/wp-content/uploads/2023/05/23609809_web1_VENETIAN-PALA-MAY0923-002.jpg?w=1200\",\n            \"geoCoordinates\":{\n                \"latitude\":36.1220,\n                \"longitude\":-115.1699\n            },\n            \"ticketPricing\":\"Free\",\n            \"rating\": 4.6,\n             \"timeTravel\": \"Easy walk from other central strip location\"\n        },\n               {\n          \"placeName\": \"Enjoy happy hour\",\n          \"placeDetails\":\"Many bars and restaurants offer discounted drinks and appetizers. Check various options.\",\n           \"placeImageUrl\":\"https://www.vegas.com/wp-content/uploads/2019/11/happy-hour-lv.jpg\",\n           \"geoCoordinates\":{\n               \"latitude\":36.1146,\n               \"longitude\":-115.1712\n           },\n            \"ticketPricing\":\"Varies\",\n             \"rating\": 4.2,\n            \"timeTravel\": \"Various locations across the Strip\"\n        }\n      ]\n    }\n  }\n}\n```\n**Important Notes for a Cheap Trip:**\n\n*   **Transportation:** Utilize the Deuce bus system on the Strip. It's an affordable way to get around. Consider a day pass if you plan to travel extensively by bus\n*   **Food:** Look for deals and happy hours. Avoid eating at expensive restaurants on the main Strip. Consider supermarkets or local eateries off the strip.\n*   **Entertainment:** Take advantage of free attractions. Limit paid shows and events unless you find discounts.\n*   **Gambling:** If you plan to gamble, set a strict budget and stick to it.\n*   **Water:** Bring a reusable water bottle. Water is expensive on the Strip.\n\nLet me know if you have more specific questions or need further adjustments!\n"},
          ],
        },
      ],
    });
  
   
  